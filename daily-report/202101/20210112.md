# 20210112

Created: Jan 12, 2021 9:27 AM
Created By: mofu mofu
Last Edited By: mofu mofu
Last Edited Time: Jan 12, 2021 5:13 PM

レビューや実装の際に社内規定のスタイルガイドと色が同じかチェックしておかないとだめですね…でもそういうのって初期開発時にチェックしておいてくれよ〜（で改訂の連絡もらったら修正する）と思ってしまう。まあリソースと期限優先だとそこまで意識できないのが現実だが…。

その辺グズグズだとドキュメント・テストもなくて品質が…って印象受けるので相関あるのかもしれない。1人で実装するときは結構慎重にやらないと（それこそテストとかも一緒に準備しないと）なのかも。もともと無茶を強いているわけですし。

Propsの値を変更したときのテストってどう書くのがいいんですかねえ。値変更したつもりなのに〜みたいなときは新旧の値を比較して変更できたかデバッグするのが良さそ

これは結構ありがちなやつだ…Props周りとか特に。テストしやすいコンポーネント設計＝これ系のミスを防ぐ意味合いもあるのかもね。

[https://ics.media/entry/200716/](https://ics.media/entry/200716/)

動かないときのデバッグ、うまく行くかは状況整理がどのくらいできるかでだいぶ変わるような気がするな…。この辺をよく見れるかにかかっている気がする

- 変更前後の状態
- ログ
- エラー出てる箇所の前後処理
- エラー内容

APIの返り値で `{ A : 'B'}` の `A` が可変の場合、これどうやって型定義するといいのかな…。キー名が固定じゃないから `any` にしたろ！みたいな型定義を見つけてしまったんですが…。キー名は `string` で固定されている。

グーグルな結果

[Object等の呼び出しでkeyに動的な変数を使う [TypeScript] - Qiita](https://qiita.com/tktcorporation/items/051bb03bb4d72930d8e9)

[https://ryotarch.com/javascript/using-dynamic-variables-for-keys-in-object-calls/](https://ryotarch.com/javascript/using-dynamic-variables-for-keys-in-object-calls/)

`keyof` で調べてみるのが良さそう。なるべく `any` は撲滅していきたい。

関数の配置、ルールが色々混在しているとつらい。A用の処理はこれ！といいつつ別の関数を呼び出しているだけとか…。消しておいてくれ。

API呼び出し処理をラップして実装するのであれば、IN / OUT に関する単体テストがほしい…。それかドキュメント…。使い方の想定がわからないと応用が効かない（調べるのに時間がかかる）